query Me($sitesPaging: PagingInput!) {
  me {
    ...AuthUserDetailsFields
  }
}

mutation Login($input: LoginInput!) {
  login(input: $input) {
    user {
      ...AuthUserFields
    }
  }
}

mutation Register($input: RegisterInput!) {
  register(input: $input) {
    user {
      ...AuthUserFields
    }
  }
}

mutation Logout {
  logout
}

fragment AuthUserFields on User {
  id
  username
  role
}

fragment AuthSiteSummaryFields on Site {
  id
  domains
  name
  publicKey
  createdAt
}

fragment AuthUserDetailsFields on User {
  id
  username
  role
  createdAt
  sites(paging: $sitesPaging) {
    ...AuthSiteSummaryFields
  }
}
